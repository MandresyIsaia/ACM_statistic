using api.ModelML.anomalie_redevance_compagnie.modelBaseAnomalie;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace api.Model.exploitants
{
    [Table("RED_EXPLOITANT")]
    public class Exploitant
    {
        [Key]
        [Column("Code")]
        public String? Code { get; set; }
        [Column("Nom")]
        public String Nom { get; set; }
        [Column("Adresse")]
        public String? Adresse { get; set; }
        [Column("EMail")]
        public String? Email { get; set; }
        [Column("Tel")]
        public String? Telephone { get; set; }
        [Column("Fax")]
        public String? Fax { get; set; }
        [Column("Logo")]
        public String? Logo{ get; set; }
        [Column("TypeService")]
        public int TypeService { get; set; }
        [Column("Initiale")]
        public String? Initiale { get; set; }

        public static void EncodageSave(List<Exploitant> data)
        {
            if (data == null || data.Count == 0)
                return;


            var encoder = new LabelEncoder();


            var compagnies = data.Select(x => x.Nom).ToList();


            var compagniesEncoded = encoder.FitTransform(compagnies);


            string outputDir = AppContext.BaseDirectory;
            string encoderPath = Path.Combine(outputDir, "compagnie_mapping.json");
            

        }

    }
}
